<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mobile Panning Demo</title>
    <style>
        #content {
            width: 100px;
            height: 100px;
            background-color: blue;
            color: white;
            text-align: center;
            line-height: 100px;
            position: absolute;
            top: calc(50% - 50px);
            left: calc(50% - 50px);
        }
    </style>
</head>
<body>
    <button id="init" type="button">Click me!</button>
    <p id="info"></p>
    <div id="content">Move me!</div>

    <script>

        function orient(event) {
            alpha = event.alpha;
            beta  = event.beta;
            gamma = event.gamma;
            info.innerHTML = `alpha: ${alpha}  beta: ${beta}  gamma: ${gamma}`
        }

        var permit = () => {
            DeviceOrientationEvent.requestPermission()
            .then(response => {
                if (response == 'granted') {
                    window.addEventListener('deviceorientation', orient)
                }
            })
            .catch(console.error)
        }

        var init = () => {
            btn.style.display = 'none';
            permit();
        }

        btn = document.getElementById('init');
        info = document.getElementById('info');
        btn.addEventListener('click', init)
        info.innerHTML = 'alpha: ?  beta: ?  gamma: ?'
    </script>
</body>
</html>
